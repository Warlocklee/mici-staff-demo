var L=Object.defineProperty,S=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var F=(t,n,a)=>n in t?L(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,C=(t,n)=>{for(var a in n||(n={}))P.call(n,a)&&F(t,a,n[a]);if(N)for(var a of N(n))R.call(n,a)&&F(t,a,n[a]);return t},O=(t,n)=>S(t,w(n));import{d as _,a as r,o as g,c as E,i,h as s,K as h,L as u,M as U,r as A,l as B,j as d,R as z,Q as T,O as j,J as H,e as V,f as I}from"./lib.f6218f97.js";import{_ as y,A as W}from"./index.079d027f.js";const J=_({name:"OnlineAction",props:{buttonStyle:{type:Object,default:()=>{}},positiveClick:{type:Function,default:()=>{}},negativeClick:{type:Function,default:()=>{}}},setup(){}}),K=u("ONLINE"),M=u(" Do you want to online it ? ");function Q(t,n,a,p,c,f){const o=r("n-button"),l=r("n-popconfirm");return g(),E(l,{onPositiveClick:t.positiveClick,onNegativeClick:t.negativeClick},{trigger:i(()=>[s(o,{style:h(t.buttonStyle),type:"success",size:"small"},{default:i(()=>[K]),_:1},8,["style"])]),default:i(()=>[M]),_:1},8,["onPositiveClick","onNegativeClick"])}var q=y(J,[["render",Q]]);const x=_({name:"OfflineAction",props:{buttonStyle:{type:Object,default:()=>{}},positiveClick:{type:Function,default:()=>{}},negativeClick:{type:Function,default:()=>{}}},setup(){}}),G=u("OFFLINE"),X=u(" Do you want to offline it ? ");function Y(t,n,a,p,c,f){const o=r("n-button"),l=r("n-popconfirm");return g(),E(l,{onPositiveClick:t.positiveClick,onNegativeClick:t.negativeClick},{trigger:i(()=>[s(o,{style:h(t.buttonStyle),type:"error",size:"small"},{default:i(()=>[G]),_:1},8,["style"])]),default:i(()=>[X]),_:1},8,["onPositiveClick","onNegativeClick"])}var Z=y(x,[["render",Y]]);const tt=_({name:"DeleteAction",props:{buttonStyle:{type:Object,default:()=>{}},positiveClick:{type:Function,default:()=>{}},negativeClick:{type:Function,default:()=>{}}},setup(){}}),et=u("DELETE"),nt=u(" Do you want to delete it ? ");function ot(t,n,a,p,c,f){const o=r("n-button"),l=r("n-popconfirm");return g(),E(l,{onPositiveClick:t.positiveClick,onNegativeClick:t.negativeClick},{trigger:i(()=>[s(o,{style:h(t.buttonStyle),type:"error",size:"small"},{default:i(()=>[et]),_:1},8,["style"])]),default:i(()=>[nt]),_:1},8,["onPositiveClick","onNegativeClick"])}var at=y(tt,[["render",ot]]);const it=_({name:"news",components:{},setup(){const t=U(),n=[],a=new Date().toDateString();for(let e=0;e<10;e++)n.push({id:`ID ${e}`,title:`Title ${e}`,status:e%2==0?"ONLINE":"OFFLINE",content:`detail ${e}`,date:a,update:a});const p=()=>{t.push({path:"/news/detail"})},c=A(),f=A(null),o=B({formData:[{id:"",title:""}],loading:!1,dialogLoading:!1,addUserDialog:!1,currentPage:1,pagination:{pageSize:10},total:0,tableData:n,columnData:[{title:"RECORD ID",key:"id",render(e){return d(z,{style:{color:"#18a058"},to:{name:"NewsDetail",params:{id:e.id}}},{default:()=>e.id})}},{title:"STATUS",key:"status",render(e){return d(T,{style:{width:"100px"},type:e.status==="ONLINE"?"primary":"error",secondary:!0,round:!0},{default:()=>e.status})}},{title:"TITLE",key:"title"},{title:"CREATE",key:"date"},{title:"UPDATE",key:"update"},{title:"OPERATE",render:function(e){return[e.status==="ONLINE"?d(Z,{buttonStyle:{width:"80px"}}):d(q,{buttonStyle:{width:"80px"}}),d(T,{type:"primary",size:"small",style:{marginLeft:"10px",marginRight:"10px"},onClick:p},{default:()=>"EDIT"}),d(at)]}}]});async function l(){}j([()=>o.currentPage,()=>o.pageSize],([e,b])=>{l()},{immediate:!0});function v(){o.formData.forEach(e=>{e.value=""}),o.addUserDialog=!0}function m(){const e=c.value;console.log(e),e.submitForm().then(async b=>{o.dialogLoading=!0;const $=await W.addAdminUser({data:C({},b)});$&&$.success&&(o.addUserDialog=!1,o.currentPage===1?l():o.currentPage=1),o.dialogLoading=!1})}function D(){const e=c.value;o.dialogLoading=!1,e.resetForm()}const k=()=>{t.push({path:"/news/create"})};return O(C({},H(o)),{dialogForm:c,addUser:v,submitAdd:m,closeDialog:D,formRef:f,create:k,generalOptions:["ONLINE","OFFLINE"].map(e=>({label:e,value:e}))})},methods:{operator(){this.$confirm("\u539F\u9879\u76EE\u6CA1\u6709\u63D0\u4F9B\u8BE5\u529F\u80FD\uFF0C\u6709\u65F6\u95F4\u518D\u52A0\uFF01\u9700\u8981\u5220\u9664\u7684\u627E\u540E\u53F0","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",center:!0}).then(()=>{})}}}),st={class:"transactionPage"},lt={class:"pageHeader"},rt=u("SEARCH"),ut={class:"headerExtra"},ct=u("CREATE");function dt(t,n,a,p,c,f){const o=r("n-input"),l=r("n-form-item"),v=r("n-select"),m=r("n-button"),D=r("n-form"),k=r("n-data-table");return g(),V("div",st,[I("div",lt,[s(D,{class:"formWrap",inline:"","label-width":80,model:t.formData,size:"medium",ref:"formRef"},{default:i(()=>[s(l,{label:"RECORD ID"},{default:i(()=>[s(o,{value:t.formData.id,"onUpdate:value":n[0]||(n[0]=e=>t.formData.id=e),placeholder:"INPUT ID"},null,8,["value"])]),_:1}),s(l,{label:"TITLE"},{default:i(()=>[s(o,{placeholder:"INPUT TITLE",value:t.formData.title,"onUpdate:value":n[1]||(n[1]=e=>t.formData.title=e)},null,8,["value"])]),_:1}),s(l,{label:"STATUS"},{default:i(()=>[s(v,{class:"selectWidth",placeholder:"CHOOSE OPTIONS",options:t.generalOptions,value:t.formData.status,"onUpdate:value":n[2]||(n[2]=e=>t.formData.status=e)},null,8,["options","value"])]),_:1}),s(l,null,{default:i(()=>[s(m,{type:"primary",ghost:""},{default:i(()=>[rt]),_:1})]),_:1})]),_:1},8,["model"]),I("div",ut,[s(m,{type:"primary",onClick:t.create},{default:i(()=>[ct]),_:1},8,["onClick"])])]),s(k,{ref:"table",columns:t.columnData,data:t.tableData,pagination:t.pagination,"row-key":e=>e.id},null,8,["columns","data","pagination","row-key"])])}var _t=y(it,[["render",dt],["__scopeId","data-v-764a0da0"]]);export{_t as default};
